(function(){var scriptName="ExtendedConfirmButton";function execute(){var h="hidden",g="showing",b="ConfirmText",e="displayModalPopupID",f="function",d="onclick",c=null;Type.registerNamespace("Sys.Extended.UI");Sys.Extended.UI.ConfirmButtonHiddenEventArgs=function(a){Sys.Extended.UI.ConfirmButtonHiddenEventArgs.initializeBase(this);this._confirmed=a};Sys.Extended.UI.ConfirmButtonHiddenEventArgs.prototype={get_confirmed:function(){return this._confirmed}};Sys.Extended.UI.ConfirmButtonHiddenEventArgs.registerClass("Sys.Extended.UI.ConfirmButtonHiddenEventArgs",Sys.EventArgs);Sys.Extended.UI.ConfirmButtonBehavior=function(b){var a=this;Sys.Extended.UI.ConfirmButtonBehavior.initializeBase(a,[b]);a._ConfirmTextValue=c;a._OnClientCancelValue=c;a._ConfirmOnFormSubmit=false;a._displayModalPopupID=c;a._postBackScript=c;a._clickHandler=c;a._oldScript=c};Sys.Extended.UI.ConfirmButtonBehavior.prototype={initialize:function(){var a=this;Sys.Extended.UI.ConfirmButtonBehavior.callBaseMethod(a,"initialize");var b=a.get_element();a._clickHandler=Function.createDelegate(a,a._onClick);$addHandler(b,"click",a._clickHandler);a._oldScript=b.getAttribute(d);a._oldScript&&b.setAttribute(d,c);if(a._ConfirmOnFormSubmit&&typeof WebForm_OnSubmit==f&&!Sys.Extended.UI.ConfirmButtonBehavior._originalWebForm_OnSubmit)if(Sys.Extended.UI.TextBoxWatermarkBehavior&&Sys.Extended.UI.TextBoxWatermarkBehavior._originalWebForm_OnSubmit){Sys.Extended.UI.ConfirmButtonBehavior._originalWebForm_OnSubmit=Sys.Extended.UI.TextBoxWatermarkBehavior._originalWebForm_OnSubmit;Sys.Extended.UI.TextBoxWatermarkBehavior._originalWebForm_OnSubmit=Sys.Extended.UI.ConfirmButtonBehavior.WebForm_OnSubmit}else{Sys.Extended.UI.ConfirmButtonBehavior._originalWebForm_OnSubmit=WebForm_OnSubmit;WebForm_OnSubmit=Sys.Extended.UI.ConfirmButtonBehavior.WebForm_OnSubmit}},dispose:function(){var a=this;if(a._clickHandler){$removeHandler(a.get_element(),"click",a._clickHandler);a._clickHandler=c}if(a._oldScript){a.get_element().setAttribute(d,a._oldScript);a._oldScript=c}Sys.Extended.UI.ConfirmButtonBehavior.callBaseMethod(a,"dispose")},_onClick:function(e){var a=this;if(a.get_element()&&!a.get_element().disabled)if(a._ConfirmOnFormSubmit)Sys.Extended.UI.ConfirmButtonBehavior._clickedBehavior=a;else if(!a._displayConfirmDialog()){e.preventDefault();return false}else if(a._oldScript)if(String.isInstanceOfType(a._oldScript))eval(a._oldScript);else typeof a._oldScript==f&&a._oldScript()},_displayConfirmDialog:function(){var a=this,c=new Sys.CancelEventArgs;a.raiseShowing(c);if(c.get_cancel())return;if(a._displayModalPopupID){var b=$find(a._displayModalPopupID);if(!b)throw Error.argument(e,String.format(Sys.Extended.UI.Resources.CollapsiblePanel_NoControlID,a._displayModalPopupID));b.set_OnOkScript("$find('"+a.get_id()+"')._handleConfirmDialogCompletion(true);");b.set_OnCancelScript("$find('"+a.get_id()+"')._handleConfirmDialogCompletion(false);");b.show();return false}else{var d=window.confirm(a._ConfirmTextValue);a._handleConfirmDialogCompletion(d);return d}},_handleConfirmDialogCompletion:function(result){var a=this;a.raiseHidden(new Sys.Extended.UI.ConfirmButtonHiddenEventArgs(result));if(result){if(a._postBackScript)eval(a._postBackScript)}else a._OnClientCancelValue&&window[a._OnClientCancelValue]()},get_OnClientCancel:function(){return this._OnClientCancelValue},set_OnClientCancel:function(a){if(this._OnClientCancelValue!=a){this._OnClientCancelValue=a;this.raisePropertyChanged("OnClientCancel")}},get_ConfirmText:function(){return this._ConfirmTextValue},set_ConfirmText:function(a){if(this._ConfirmTextValue!=a){this._ConfirmTextValue=a;this.raisePropertyChanged(b)}},get_ConfirmOnFormSubmit:function(){return this._ConfirmOnFormSubmit},set_ConfirmOnFormSubmit:function(a){if(this._ConfirmOnFormSubmit!=a){this._ConfirmOnFormSubmit=a;this.raisePropertyChanged("ConfirmOnFormSubmit")}},get_displayModalPopupID:function(){return this._displayModalPopupID},set_displayModalPopupID:function(a){if(this._displayModalPopupID!=a){this._displayModalPopupID=a;this.raisePropertyChanged(e)}},get_postBackScript:function(){return this._postBackScript},set_postBackScript:function(a){if(this._postBackScript!=a){this._postBackScript=a;this.raisePropertyChanged("postBackScript")}},add_showing:function(a){this.get_events().addHandler(g,a)},remove_showing:function(a){this.get_events().removeHandler(g,a)},raiseShowing:function(b){var a=this.get_events().getHandler(g);a&&a(this,b)},add_hidden:function(a){this.get_events().addHandler(h,a)},remove_hidden:function(a){this.get_events().removeHandler(h,a)},raiseHidden:function(b){var a=this.get_events().getHandler(h);a&&a(this,b)}};Sys.Extended.UI.ConfirmButtonBehavior.registerClass("Sys.Extended.UI.ConfirmButtonBehavior",Sys.Extended.UI.BehaviorBase);Sys.registerComponent(Sys.Extended.UI.ConfirmButtonBehavior,{name:"confirmButton",parameters:[{name:b,type:"String"}]});Sys.Extended.UI.ConfirmButtonBehavior.WebForm_OnSubmit=function(){var a=Sys.Extended.UI.ConfirmButtonBehavior._originalWebForm_OnSubmit();if(a&&Sys.Extended.UI.ConfirmButtonBehavior._clickedBehavior)a=Sys.Extended.UI.ConfirmButtonBehavior._clickedBehavior._displayConfirmDialog();Sys.Extended.UI.ConfirmButtonBehavior._clickedBehavior=c;return a}}if(window.Sys&&Sys.loader)Sys.loader.registerScript(scriptName,["ExtendedBase"],execute);else execute()})();